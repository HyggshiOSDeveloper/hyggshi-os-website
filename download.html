<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>T·∫£i xu·ªëng ‚Äì Hyggshi OS Project Center</title>
  <link rel="icon" href="Resources/favicon.ico" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <header class="header">
      <nav class="nav">
        <div class="logo">
          <img src="Resources/upscalemedia-transformed.png" alt="Hyggshi OS Logo" style="height: 40px; width: 40px; object-fit: contain; vertical-align: middle; margin-right: 0.5rem; border-radius: 10px; background: rgba(255,255,255,0.2);">
          <span class="logo-text">Hyggshi OS</span>
        </div>
        <ul class="nav-menu">
          <li><a href="index.html" class="nav-link">Home</a></li>
          <li><a href="About.html" class="nav-link">About</a></li>
          <li><a href="projects.html" class="nav-link">Projects</a></li>
          <li><a href="History.html" class="nav-link">History</a></li>
          <li><a href="The-Cases.html" class="nav-link">The Cases</a></li>
          <li><a href="download.html" class="nav-link">Download</a></li>
          <li><a href="license.html" class="nav-link">License</a></li>
          <li><a href="erorrcode.html" class="nav-link">Error Codes</a></li>
          <li><a href="timeline.html" class="nav-link active">Timeline</a></li>
          <li><a href="OSmain.html" class="nav-link">OS Test</a></li>
          
          <li>
            <a href="https://discord.gg/PZuDkFzJtc" class="nav-link" target="_blank" title="Join Discord" style="display:flex;align-items:center;gap:0.3rem;">
              <svg height="22" viewBox="0 0 32 32" width="22" fill="currentColor" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle"><path d="M27.2 6.8A26.9 26.9 0 0 0 20.9 5a1 1 0 0 0-.5.1c-.2.1-.3.3-.3.5-.2.7-.4 1.5-.5 2.2-2.7-.4-5.4-.4-8.1 0-.1-.7-.3-1.5-.5-2.2a.7.7 0 0 0-.3-.5c-.2-.1-.4-.2-.5-.1A26.9 26.9 0 0 0 4.8 6.8a.7.7 0 0 0-.3.3C1.7 11.2.3 15.5.6 19.8a.7.7 0 0 0 .2.4c3.2 2.4 6.3 3.8 9.4 4.7a1 1 0 0 0 1.1-.4c.3-.4.6-.9.8-1.3-3.1-.9-6-2.2-8.7-4.1a.2.2 0 0 1-.1-.2c0-.1 0-.2.1-.2.2-.2.4-.3.6-.2 7.7 5.6 18.1 5.6 25.7 0 .2-.1.4 0 .6.2 0 .1 0 .2-.1.2-2.7 1.9-5.6 3.2-8.7 4.1.3.5.6.9.8 1.3a1 1 0 0 0 1.1.4c3.1-.9 6.2-2.3 9.4-4.7a.7.7 0 0 0 .2-.4c.4-4.3-1-8.6-3.9-12.7a.7.7 0 0 0-.3-.3zM11.7 18.6c-1.1 0-2-1-2-2.1 0-1.2.9-2.1 2-2.1s2 1 2 2.1c0 1.2-.9 2.1-2 2.1zm8.6 0c-1.1 0-2-1-2-2.1 0-1.2.9-2.1 2-2.1s2 1 2 2.1c0 1.2-.9 2.1-2 2.1z"/></svg>
              <span style="display:none;">Discord</span>
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="main">
      <section class="hero">
        <div class="hero-content">
          <h1 class="hero-title">T·∫£i xu·ªëng Hyggshi OS</h1>
          <p class="hero-subtitle">Ch·ªçn c√°ch t·∫£i ph√π h·ª£p: ch∆°i tr·ª±c ti·∫øp tr√™n Roblox ho·∫∑c t·∫£i b·∫£n ph√°t h√†nh m·ªõi nh·∫•t t·ª´ GitHub.</p>
          <div class="hero-buttons">
            <a class="btn btn-github" href="https://github.com/HyggshiOSDeveloper/Hyggshi-OS-project-center/releases/latest" target="_blank" rel="noopener">B·∫£n ph√°t h√†nh m·ªõi nh·∫•t</a>
            <a class="btn btn-secondary" href="https://github.com/HyggshiOSDeveloper/Hyggshi-OS-project-center/releases" target="_blank" rel="noopener">T·∫•t c·∫£ ph√°t h√†nh</a>
          </div>
        </div>
        <div class="hero-visual">
          <div class="floating-card">
            <div class="card-icon">‚¨áÔ∏è</div>
            <h3>T·∫£i nhanh</h3>
            <p>Li√™n k·∫øt tr·ª±c ti·∫øp, an to√†n</p>
          </div>
        </div>
      </section>

      <section class="history-section">
        <div class="container">
          <h2 class="section-title">Phi√™n b·∫£n m·ªõi nh·∫•t</h2>
          <div id="latest-release" class="feature-grid">
            <div class="feature-card">
              <div class="feature-icon">‚è≥</div>
              <h3>ƒêang t·∫£i th√¥ng tin‚Ä¶</h3>
              <p>Vui l√≤ng ch·ªù trong gi√¢y l√°t.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="history-section">
        <div class="container">
          <h2 class="section-title">Y√™u c·∫ßu & H∆∞·ªõng d·∫´n</h2>
          <div class="feature-grid">
            <div class="feature-card">
              <div class="feature-icon">üß∞</div>
              <h3>Y√™u c·∫ßu c∆° b·∫£n</h3>
              <ul style="text-align:left; opacity:0.9; line-height:1.7;">
                <li>T√†i kho·∫£n Roblox h·ª£p l·ªá</li>
                <li>K·∫øt n·ªëi Internet ·ªïn ƒë·ªãnh</li>
                <li>Thi·∫øt b·ªã c√≥ th·ªÉ ch·∫°y Roblox (PC/Laptop)</li>
              </ul>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üì¶</div>
              <h3>C√°ch t·∫£i b·∫£n ph√°t h√†nh</h3>
              <ol style="text-align:left; opacity:0.9; line-height:1.7;">
                <li>M·ªü m·ª•c ‚ÄúB·∫£n ph√°t h√†nh m·ªõi nh·∫•t‚Äù.</li>
                <li>Ch·ªçn asset ph√π h·ª£p ƒë·ªÉ t·∫£i v·ªÅ.</li>
                <li>L√†m theo h∆∞·ªõng d·∫´n ƒëi k√®m (n·∫øu c√≥).</li>
              </ol>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üîê</div>
              <h3>L∆∞u √Ω an to√†n</h3>
              <p>Ch·ªâ t·∫£i file t·ª´ trang GitHub ch√≠nh th·ª©c c·ªßa d·ª± √°n ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n. Tr√°nh c√°c ngu·ªìn kh√¥ng r√µ r√†ng.</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>¬© 2024 - 2025 Hyggshi OS Project Center. All rights reserved.</p>
    </footer>
  </div>

  <script src="script.js"></script>
  <script>
    // Auto-refresh latest GitHub release with ETag + visibility refresh
    (function () {
      const API_URL = 'https://api.github.com/repos/HyggshiOSDeveloper/Hyggshi-OS-project-center/releases/latest';
      const container = document.getElementById('latest-release');
      if (!container) return;

      let lastEtag = null;
      let lastReleaseId = null;
      let refreshTimer = null;

      async function fetchLatestRelease() {
        try {
          const res = await fetch(API_URL, {
            headers: {
              'Accept': 'application/vnd.github+json',
              'X-GitHub-Api-Version': '2022-11-28',
              'If-None-Match': lastEtag || ''
            },
            cache: 'no-store'
          });

          if (res.status === 304) return; // Not modified

          lastEtag = res.headers.get('ETag') || lastEtag;
          const release = await res.json();
          if (!release || !release.tag_name) return;
          if (lastReleaseId === release.id) return;
          lastReleaseId = release.id;

          const date = new Date(release.published_at || release.created_at);
          const dateStr = date.toLocaleDateString('vi-VN', { year: 'numeric', month: 'short', day: 'numeric' });
          const assets = Array.isArray(release.assets) && release.assets.length
            ? release.assets.map(a => `
                <a class="feature-card" href="${a.browser_download_url}" target="_blank" rel="noopener">
                  <div class="feature-icon">üì•</div>
                  <h3>${a.name}</h3>
                  <p>K√≠ch th∆∞·ªõc: ${(a.size/1024/1024).toFixed(2)} MB</p>
                </a>
              `).join('')
            : `<div class="feature-card"><div class="feature-icon">‚ÑπÔ∏è</div><h3>Ch∆∞a c√≥ asset ƒë√≠nh k√®m</h3><p>Vui l√≤ng xem chi ti·∫øt tr√™n trang ph√°t h√†nh.</p></div>`;

          container.innerHTML = `
            <div class="feature-card" style="grid-column: 1 / -1;">
              <div class="feature-icon">üè∑Ô∏è</div>
              <h3>${release.name || release.tag_name}</h3>
              <p>Ph√°t h√†nh: ${dateStr}</p>
              <p><a href="${release.html_url}" target="_blank" rel="noopener" class="btn btn-secondary" style="margin-top:0.5rem;">Xem tr√™n GitHub</a></p>
            </div>
            ${assets}
          `;
        } catch (e) {
          if (!container.dataset.hadContent) {
            container.innerHTML = `
              <div class="feature-card">
                <div class="feature-icon">‚ö†Ô∏è</div>
                <h3>Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu</h3>
                <p>Vui l√≤ng th·ª≠ l·∫°i sau ho·∫∑c truy c·∫≠p trang ph√°t h√†nh tr√™n GitHub.</p>
              </div>
            `;
          }
        }
      }

      function scheduleRefresh() {
        if (refreshTimer) clearInterval(refreshTimer);
        refreshTimer = setInterval(fetchLatestRelease, 300000); // 5 minutes
      }

      document.addEventListener('visibilitychange', () => {
        if (!document.hidden) fetchLatestRelease();
      });

      fetchLatestRelease();
      scheduleRefresh();
    })();
  </script>
</body>
</html>
